<script src="../js/githubWrapper.js"></script>
<dom-module id="github-repos">
  <style>
    #repos {
      overflow-y: scroll;
      height: 250px;
    }
  </style>

  <template>
    <plugin-template title="Github Repos">
      <div id="repos"></div>
    </plugin-template>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'github-repos',/*
    item: "\
          <paper-icon-item>
            <div class="avatar blue" item-icon></div>
            <paper-item-body two-line>
              <div>Photos</div>
              <div secondary>Jan 9, 2014</div>
            </paper-item-body>
            <iron-icon icon="star"></iron-icon>
          </paper-icon-item>
          ",*/
    attached: function(){
      githubApi.searchRepo(selectedEvent.githubHashtags, function(repos){
        for (var i in repos.items){
          var repo = repos.items[i];
          $('#repos').append(
            $('<paper-icon-item/>')
              .append(
                $('<img/>')
                  .attr('item-icon', '')
                  .css('width', 40)
                  .attr('src', repo.owner.avatar_url)
              )
              .append(
                $('<paper-item-body/>')
                  .attr('two-line', '')
                  .append(
                    $('<div/>')
                      .text(repo.name)
                  )
                  .append(
                    $('<div/>')
                      .attr('secondary', '')
                      .text(repo.description)
                  )
              )
              .append(
                $('<a/>')
                  .attr('href', repo.html_url)
                  .append(
                    $('<paper-icon-button/>')
                      .attr('icon', 'arrow-forward')
                  )
              )
          );
        }
      });
    }

  })
</script>
